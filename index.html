<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <title>Drill Car</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="style/animate.css" />
    <link rel="stylesheet" href="style/bootstrap.min.css">
	<link rel="stylesheet" href="style/main.css">
	<link rel="stylesheet" href="style/style.css">
    <link rel="stylesheet" href="style/ng-modal.css">
	<link rel="stylesheet" href="style/angular-material.min.css">

	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<script type="text/javascript" src="https://www.google.com/uds/?file=visualization&amp;v=1&amp;hl=fr&amp;packages=corechart&amp;async=2"></script>
	<link type="text/css" href="https://www.google.com/uds/api/visualization/1.0/ff67c3772da186a412ae3231c32409e9/ui+fr.css" rel="stylesheet">
	<script type="text/javascript" src="https://www.google.com/uds/api/visualization/1.0/ff67c3772da186a412ae3231c32409e9/format+fr,default+fr,ui+fr,corechart+fr.I.js"></script>
	<link href="https://ajax.googleapis.com/ajax/static/modules/gviz/1.0/core/tooltip.css" rel="stylesheet" type="text/css">

<style>
.Loading {
    display: inline-block;
    vertical-align: middle;
    background-position: center;
    background:no-repeat;
    background-image: url('data:image/gif;base64,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');
    width:20px;
    height:20px;
    margin-top:6px;
    margin-right:7px;
}
.AutocompleteDropDown {
	background-color: #fcf8e3;
	}
</style>


</head>
<body ng-app="drillapp">
<!-- Show the directory currently used - remove it on a production server to not display the internal disk structure -->
<!--  Page Directory: @_PAGEDIRECTORY_@ -->


<center>
		<table><tr><td><h1>Drill Car</h1></td><td rowspan="2"><img src="img/drillcar.jpg" width="150" heigth="150" /></td></tr>
			<tr><td>
				<center>
					V1.4
				</center>
			</td></tr>
		</table>
</center>
		
		
<div class="container-fluid" id="accordion">
<div class="row">
<div class="component col-xs-12"  ng-controller="DrillControler as ctrl">


			
	<ul class="nav nav-tabs"  ng-class="{'nav-stacked': vertical, 'nav-justified': justified}" style="border-bottom: 1px solid #c2c2c2;">
		<li ng-class="{active: active, disabled: false}" id="form-tab" heading="properties" active="true" title="Setup Properties" select="ctrl.navbaractiv == 'properties'" class="{{ctrl.getNavClass('properties')}}" style="{{ctrl.getNavStyle('properties')}}">
			  <a ng-click="ctrl.navbaractiv = 'properties';"   class="ng-binding">Setup Properties</a>
		</li>
		<li ng-class="{active: active, disabled: false}" id="form-tab" heading="context" active="true" title="Tomcat context" select="ctrl.navbaractiv == 'context'" class="{{ctrl.getNavClass('context')}}" style="{{ctrl.getNavStyle('context')}}">
			  <a  ng-click="ctrl.navbaractiv='context'"  class="ng-binding">Tomcat context</a>
		</li>
		<li ng-class="{active: active, disabled: false}" id="form-tab" heading="analysis" active="true" title="Recommendations" select="ctrl.navbaractiv == 'recommendations'" class="{{ctrl.getNavClass('recommendations')}}" style="{{ctrl.getNavStyle('recommendations')}}">
			  <a  ng-click="ctrl.navbaractiv='recommendations'" class="ng-binding">Recommendations</a>
		</li>
		<li ng-class="{active: active, disabled: false}" id="form-tab" heading="differential" active="true" title="differential" select="ctrl.navbaractiv == 'differential'" class="{{ctrl.getNavClass('differential')}}" style="{{ctrl.getNavStyle('differential')}}">
			  <a  ng-click="ctrl.navbaractiv='differential'" class="ng-binding">Differential</a>
		</li>
		<li ng-class="{active: active, disabled: false}" id="form-tab" heading="parameters" active="true" title="Parameters" select="ctrl.navbaractiv == 'parameters'" class="{{ctrl.getNavClass('parameters')}}" style="{{ctrl.getNavStyle('parameters')}}">
			  <a  ng-click="ctrl.navbaractiv='parameters'" class="ng-binding">Parameters</a>
		</li>
		
		
	</ul>
	

	
	<!--  ************************************************************  -->	
	<!--  Properties Jobs		 										-->
	<!--  ************************************************************  -->		
	<!-- Keep it ng-show, else the file drop will not work ! -->	
	<div class="col-lg-12" ng-show="ctrl.navbaractiv == 'properties'">
		<p>
		<center>
			<div ng-show="ctrl.inprogress">
				<span class="Loading">.</span>
				Please wait, collect in progress
			</div>
		
			<button class="btn btn-success" ng-click="ctrl.propsCollect( true, false, false )" ng-disabled="ctrl.inprogress">Collect Setup properties</button> <p>
		</center>
				
		<div class="col-lg-12" ng-if="ctrl.props.result.listevents.length > 0">
			<h3>Errors</h3>
			
			<div ng-bind-html="ctrl.getHtml( ctrl.props.result.listevents)"></div>
			
		</div>
		
		<div class="col-lg-12">
			<h3>Parameters</h3>
			
			<table>
			<tr>
			<td style="padding: 1px 20px">   <label class="btn btn-info btn-xs" ng-click="ctrl.propsExpand( true )">Expand all</button>  </td>
			<td style="padding: 1px 20px">   <label class="btn btn-primary btn-xs" ng-click="ctrl.propsExpand( false )">Collapse all</button> </td>
			<td style="padding: 1px 20px">   
				<div class="btn-group btn-group-toggle" >
					  <label class="btn btn-danger btn-xs">
					    <input type="radio" value="set" ng-model="ctrl.props.param.displaylevel">Only parameters set
					  </label>
					  <label class="btn btn-info btn-xs">
					    <input type="radio" value="all" ng-model="ctrl.props.param.displaylevel">All parameters
					  </label>
				</div>
			</td>
			<td><input type="checkbox" ng-model="ctrl.props.displaycomments"></input>Display comments
			
			</tr>
			</table>
		

			<div ng-repeat="(classproperties, listproperties) in ctrl.props.setup.properties">
				<div class="alert alert-success">{{classproperties}}</div>
			
				<table class="table table-striped table-hover table-condensed" style="background-color:#dff0d8; width:100%">
					<tbody ng-repeat="propertiefile in listproperties">
						<tr>
							<th style="width: 40px"><input type="checkbox" ng-model="propertiefile.show"></input></th>
							<th colspan="3" style="text-align:left;width: 40px">{{propertiefile.name}}</th>
						</tr>
						<tr>
							<td></td>
							<td colspan="3" style="font-size: small;text-align:left;">{{propertiefile.filename}}</td>
						</tr>
						
						<tr ng-if="propertiefile.show">
							<td></td>
							<td>
								<table>
								<tbody ng-repeat="keypropertie in propertiefile.keys">
									<!-- <tr><td>{{keypropertie.name}}/enambe={{keypropertie.isEnable}}/platlevel={{ctrl.props.platlevel}}</td></tr> -->
									<tr ng-show="ctrl.propsShow( keypropertie )">
										<td style="{{ctrl.propsStyle( keypropertie )}}">{{keypropertie.name}}</td>
										<td style="{{ctrl.propsStyle( keypropertie )}}">
											<div ng-if="keypropertie.isEnable">{{keypropertie.value}}</div>
											<div ng-if=" ! keypropertie.isEnable">(default) {{keypropertie.value}}</div>
										</td>
																			
									</tr>
									<tr ng-show="ctrl.propsShow( keypropertie ) && ctrl.props.displaycomments">
										
										<td colspan="2" style="background-color: #d5d5d5;padding: 1px 30px">
										 {{ctrl.getHtml( keypropertie.comments)}}
										 </td>
									</tr>
								</tbody>
								</table>
							</td>
						</tr>
					</tbody>
				</table>
							
			</div>
					
			<!-- <div class="alert alert-success">Properties={{ctrl.props.properties}}</div> -->
														
			<h3>Tenants</h3>
			<select  ng-model="ctrl.props.currenttenantid" >
				<option ng-repeat="item in ctrl.propsGetTenants()" value="{{item}}">Tenant {{item}}</option>
			</select>
			
			
			<table class="table table-striped table-hover table-condensed" style="background-color:#dff0d8; width:100%">
				<tbody ng-repeat="propertiefile in ctrl.props.setup.tenants[ ctrl.props.currenttenantid ]">
					<tr>
						<th style="width: 40px"><input type="checkbox" ng-model="propertiefile.show"></input></th>
						<th colspan="3" style="text-align:left;width: 40px">{{propertiefile.name}}</th>
					</tr>
					<tr>
						<td></td>
						<td colspan="3" style="font-size: small;text-align:left;">{{propertiefile.filename}}</td>
					</tr>
					
					<tr ng-if="propertiefile.show">
						<td></td>
						<td>
							<table>
							<tbody ng-repeat="keypropertie in propertiefile.keys">
								<!-- <tr><td>{{keypropertie.name}}/enambe={{keypropertie.isEnable}}/platlevel={{ctrl.props.platlevel}}</td></tr> -->
								<tr ng-show="ctrl.propsShow( keypropertie )">
									<td style="{{ctrl.propsStyle( keypropertie )}}">{{keypropertie.name}}</td>
									<td style="{{ctrl.propsStyle( keypropertie )}}">
										<div ng-if="keypropertie.isEnable">{{keypropertie.value}}</div>
										<div ng-if=" ! keypropertie.isEnable"><i>(default)</i> {{keypropertie.value}}</div>
									</td>
																		
								</tr>
								<tr ng-show="ctrl.propsShow( keypropertie )">
									
									<td colspan="2" style="background-color: #d5d5d5;padding: 1px 30px">
									 {{ctrl.getHtml( keypropertie.comments)}}
									 </td>
								</tr>
							</tbody>
							</table>
						</td>
					</tr>
				</tbody>
			</table>
							
			
		
		</div> <!--  end div 12 on result -->
	</div> <!--  end navbar properties -->

	<!--  ************************************************************  -->	
	<!--  Server		 										-->
	<!--  ************************************************************  -->		
	<!-- Keep it ng-show, else the file drop will not work ! -->	
	<div class="col-lg-12" ng-show="ctrl.navbaractiv == 'context'">
		<p>
		<center>
			<div ng-show="ctrl.inprogress">
				<span class="Loading">.</span>
				Please wait, collect in progress
			</div>
		
			<button class="btn btn-success" ng-click="ctrl.propsCollect( false, true, false )" ng-disabled="ctrl.inprogress">Collect Server information</button> <p>
		</center>
		
		<div class="col-lg-12"  ng-if="ctrl.props.result.listevents.length > 0">
			<h3>Errors</h3>
			
			<div ng-bind-html="ctrl.getHtml( ctrl.props.result.listevents)"></div>
			
		</div>
		<div class="col-lg-12">
			<h3>Parameters</h3>
			<div ng-repeat="(classproperties, listproperties) in ctrl.props.tomcat.properties">
				<div class="alert alert-success">{{classproperties}}</div>
			
				<table class="table table-striped table-hover table-condensed" style="background-color:#dff0d8; width:100%">
					<tbody ng-repeat="propertiefile in listproperties">
						<tr>
							<th style="width: 40px"><input type="checkbox" ng-model="propertiefile.show"></input></th>
							<th colspan="3" style="text-align:left;width: 40px">{{propertiefile.name}}</th>
						</tr>
						<tr>
							<td></td>
							<td colspan="3" style="font-size: small;text-align:left;">{{propertiefile.filename}}</td>
						</tr>
						
						<tr ng-if="propertiefile.show">
							<td></td>
							<td>
								<table>
								<tbody ng-repeat="keypropertie in propertiefile.keys">
									<!-- <tr><td>{{keypropertie.name}}/enambe={{keypropertie.isEnable}}/platlevel={{ctrl.props.platlevel}}</td></tr> -->
									<tr ng-show="ctrl.propsShow( keypropertie )">
										<td style="{{ctrl.propsStyle( keypropertie )}}">{{keypropertie.name}}</td>
										<td style="{{ctrl.propsStyle( keypropertie )}}">
											<div ng-if="keypropertie.isEnable">{{keypropertie.value}}</div>
											<div ng-if=" ! keypropertie.isEnable">(default) {{keypropertie.value}}</div>
										</td>
																			
									</tr>
									<tr ng-show="ctrl.propsShow( keypropertie ) && ctrl.props.displaycomments">
										
										<td colspan="2" style="background-color: #d5d5d5;padding: 1px 30px">
										 {{ctrl.getHtml( keypropertie.comments)}}
										 </td>
									</tr>
								</tbody>
								</table>
							</td>
						</tr>
					</tbody>
				</table>
								
			</div>
			<h3>Content</h3>
			<div ng-repeat="fileitem in ctrl.props.tomcat.contents">
				<div class="alert alert-success">{{fileitem.name}}</div>
				<textarea ng-model="fileitem.content" style="width:100%;" rows="8" readonly></textarea>
			</div>
			
		
		</div> <!--  end div 12 on result -->
	</div> <!--  end navbar properties -->

		

	<!--  ************************************************************  -->	
	<!--  Analysis		 										-->
	<!--  ************************************************************  -->		
	<!-- Keep it ng-show, else the file drop will not work ! -->	
	<div class="col-lg-12" ng-show="ctrl.navbaractiv == 'recommendations'">
		<p>
		<center>
			<div ng-show="ctrl.inprogress">
				<span class="Loading">.</span>
				Please wait, collect in progress
			</div>
		
			<button class="btn btn-success" ng-click="ctrl.propsCollect( false, false,true )" ng-disabled="ctrl.inprogress">Collect recommendations</button> <p>
		</center>
		
		<div class="col-lg-12" ng-if="ctrl.props.result.listevents.length > 0">
			<h3>Errors</h3>
			
			<div ng-bind-html="ctrl.getHtml( ctrl.props.result.listevents)"></div>
			
		</div>
		<div class="col-lg-12">
			<h3>Recommendations</h3>
			<div ng-repeat="item in ctrl.props.analysis.indicators">
				
				<div class="{{ctrl.indicatorCssClass( item )}}">
					<div class="panel-heading">{{item.title}}</div>
					<div style="padding: 10px 10px">
						<p>
						<div style="text-align:center;background-color: rgb(114, 191, 210)">Parameters</div>
						<table class="table table-bordered">
							<tr ng-repeat="(key,value) in item.infos">
								<td style="padding: 10px 5px;">{{key}}</td><td>{{value}}</td>
							</tr>
						</table>
						<p>
						<div style="text-align:center;background-color: rgb(114, 191, 210)">Recommendations</div>
						
						<table class="table table-bordered">
						<tbody  ng-repeat="info in item.recommendations">
							<tr>
								<td style="padding: 10px 5px;">{{info.name}}</td>
								<td style="padding: 10px 5px;">{{info.value}}</td>
								<td style="padding: 10px 5px;">
									<div class="label label-danger" ng-if="info.level == 'DANGER'">Danger</div>
									<div class="label label-warning" ng-if="info.level == 'WARNING'">Warning</div>
									<div class="label label-info" ng-if="info.level == 'INFO'">Info</div>
									<div class="label label-success" ng-if="info.level == 'SUCCESS'">Correct</div>
								</td>
							</tr>
							<tr>
								<td></td>
								<td colspan="2" style="padding: 10px 5px;">{{info.explanation}}</td>
							</tr>
							<tr>
								<td></td>
								<td colspan="2" style="padding: 10px 5px;">{{info.whattodo}}</td>
							</tr>
						</tbody>
						</table>
					</div>
				</div>
			</div>
			
		</div>
	</div>
	
	<!--  ************************************************************  -->	
	<!--  Differential	 										-->
	<!--  ************************************************************  -->		
	<!-- Keep it ng-show, else the file drop will not work ! -->	
	<div class="col-lg-12" ng-show="ctrl.navbaractiv == 'differential'">

		<div class="col-lg-10">
			<div class="panel panel-primary">
				<div class="panel-heading">Comparison parameters</div>
				<div>
					<p>
					<table style="width:100%">
					 
					 
					<tr style="padding: 10px;"><td colspan="2" style="text-align:center;background-color: rgb(114, 191, 210)">Referentiel</td></tr>
					<tr style="padding: 10px 5px 20px 10px;">
						<td style="width:200px">Reference is a Bundle?</td><td>
							<input type="checkbox" ng-model="ctrl.diff.param.referentielIsABundle" title="Referentiel is a bundle. Then, tenant setup is compared to the template (else, directory per directory)"></input><br>
						</td>
					 </tr>
					 <tr style="padding: 10px 5px 20px 10px;">
					 	<td>Reference application directory:</td>
						<td><input  ng-model="ctrl.diff.param.referenceFile" style="width: 100%;" title="Give a directory accessible by the server, where a Bonita Bundle is deployed"></input></td>
					</tr>
					<tr><td colspan="2">
						If the reference is a bundle, the comparison is different (there are no tenant directory in a Bundle, the comparison runs with the Template). You have to uncompress the Bundle, then to uncompress the Bonita War to execute a bundle comparison. or you can start one time the Bundle, and it will be expanded correctly for the comparison.<br>
                        You can give a second Bonita directory to compare a UAT and a PRODUCTION platform, for example.					
						</td>
					<tr>
					<tr style="padding: 10px;"><td colspan="2" style="text-align:center;background-color: rgb(114, 191, 210)">Application</td></tr>
					 <tr style="padding: 10px 5px 20px 10px;">
					 	<td style="padding: 10px 5px 20px 10px;">Use this application:</td>
						<td><input type="checkbox"  ng-model="ctrl.diff.param.useLocalServer" title="If check, the local server is used to compare with."></input></td>
					</tr>
					<tr >
						<td style="padding: 10px 5px 20px 10px;">Comparison Directory</td>
						<td>
							<input ng-model="ctrl.diff.param.applicationFile" style="width: 100%;" ng-disabled="ctrl.diff.param.useLocalServer" title="Give a directory accessible by the server, to compare. invalid is the local file are used"></input> <br>
			 			</td>
					</tr>				
					<tr >
						<td style="padding: 10px 5px 20px 10px;">Do a Setup pull before</td><td>
							<input type="checkbox" ng-model="ctrl.diff.param.doSetupPull" ng-disabled="! ctrl.diff.param.useLocalServer" title="Do a Setup pull before the operation. Invalid if you give explicitaly a local file"></input><br>
						</td>
				   </tr>
					<tr style="padding: 10px;"><td colspan="2" style="text-align:center;background-color: rgb(114, 191, 210)">Parameters</td></tr>
					<tr style="padding: 10px 5px 20px 10px;"><td>Compare XML:</td><td><input type="checkbox" ng-model="ctrl.diff.param.compareContextXml" title="XML files are opened, and compare nodes per nodes"></input></td></tr> 
					<tr style="padding: 10px 5px 20px 10px;"><td>Ignore image:</td><td><input type="checkbox" ng-model="ctrl.diff.param.ignoreImage" title="Images (JPEG, GIFF, ...) files are ignored"></input></td></tr>
					<tr style="padding: 10px 5px 20px 10px;"><td>Ignore Bonita Transaction:</td><td><input type="checkbox" ng-model="ctrl.diff.param.ignoreBonitaTranslationFile" title="Bonita Translation file are ignored"></input></td></tr>
					<tr style="padding: 10px 5px 20px 10px;"><td>Ignore temporary directory:</td><td><input type="checkbox" ng-model="ctrl.diff.param.ignoreTemp" title="Temporary directory (temp, tmp) are ignored in the comparison"></input></td></tr>
					<tr style="padding: 10px 5px 20px 10px;"><td>Ignore License files:</td><td><input type="checkbox" ng-model="ctrl.diff.param.ignoreLicence" title="License file are ignored"></input></td></tr>
					<tr style="padding: 10px 5px 20px 10px;"><td>Ignore setup directory:</td><td><input type="checkbox" ng-model="ctrl.diff.param.ignoreSetup" title="Setup directory are ignored, then the comparison is only on the environment (memory, SSO..)"></input></td></tr>
					<tr style="padding: 10px 5px 20px 10px;"><td>Ignore Defered JS:</td><td><input type="checkbox" ng-model="ctrl.diff.param.ignoreDeferedJs" title="Execution generated multiple deferended JS to improve performance. They are ignored."></input></td></tr>
					</table> 
					<center>
						<div ng-show="ctrl.inprogress">
							<span class="Loading">.</span>
							Please wait, collect in progress
						</div>
					
						<button class="btn btn-success" ng-click="ctrl.diffAnalysis()" ng-disabled="ctrl.inprogress">Analysis</button> <p>
					</center>
					<!--  <div class="alert alert-info">{{ctrl.diff.param}}</div> -->
				</div>
			</div>
		</div>
		<div class="col-lg-2">
			<div class="panel panel-info">
				<div class="panel-heading">Statistics</div>
				<div>
					<table>
						<tr><td>Number of difference</td><td style="text-align:right">{{ctrl.diff.result.diffNb}}</td></tr>
						<tr><td>Time analysis</td><td style="text-align:right">{{ctrl.diff.result.diffTimeInMs}} ms</td></tr>
						<tr><td colspan="2" style="text-align:center;background-color: rgb(114, 191, 210)">Number of files per type</td></tr>
						<tr ng-repeat="(key, value) in ctrl.diff.result.countpercontent">
							<td>{{key}}:</td><td style="text-align:right">{{value}}</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
		<div class="col-lg-12">
			<h3>Errors</h3>
			
			<div ng-bind-html="ctrl.getHtml( ctrl.diff.result.listevents)"></div>
			
		</div>
		<div class="col-lg-12">
			<h3>Differences</h3>
		
			<!--  Final status -->
			<div ng-if="ctrl.diff.result.finalstatus == 'IDENTICAL'">
				<div class="alert alert-success">Two applications are identical</div>
			</div>
		
			<!-- <a ng-click="ctrl.analysisExportData('comparison')" title="Click to export to a Excel file"><img src="img/docexcel.gif" /></a> -->
			
			<div class="btn-group btn-group-toggle" >
			  <label class="btn btn-danger">
			    <input type="radio" value="0" name="displaylevel" data-ng-model="ctrl.diff.displaylevel">Only CRITICAL
			  </label>
			  <label class="btn btn-warning">
			    <input type="radio" value="1" name="displaylevel" data-ng-model="ctrl.diff.displaylevel">CRITICAL / IMPORTANT
			  </label>
			  <label class="btn btn-warning">
			    <input type="radio" value="2" name="displaylevel" data-ng-model="ctrl.diff.displaylevel">EXPECTED
			  </label>
			  <label class="btn btn-info">
			    <input type="radio" value="100" name="displaylevel" data-ng-model="ctrl.diff.displaylevel">All
			  </label>
			</div>


			
			
			<table class="table table-striped table-hover table-condensed" style="background-color:#dff0d8">
				<tbody ng-repeat="item in ctrl.diff.result.comparaisons">
					<tr ng-if="ctrl.diffDisplay( item )">
						<th colspan="1" style="width: 40px"><input type="checkbox" ng-model="item.show"></input></th>
						<th style="text-align:right;width: 40px">{{item.compoundSize}}</th>
						<th style="width: 100px">{{item.level}}</th>
						<th colspan="3">{{item.compoundName}}</td>
					</tr>
					<!--  <tr ng-if="ctrl.diffDisplay( item )"><td colspan="8">list={{item.listCompound}}<br>{{ctrl.diffDisplay( item )}}</td></tr> -->
					<tr ng-if="ctrl.diffDisplay( item ) && item.show">
						<td colspan="2"></td>
						<td colspan="8">

							<table>
							<tbody ng-repeat="compound in item.listCompound">
								<tr style="border-top: 1px solid;border-right: 1px solid;border-left: 1px solid;">
									<td style="font-size: small;font-style: italic;font-weight: bold;"><b>{{compound.status}}</b></td>
									<td style="font-size: small;font-style: italic;font-weight: bold;"><b>{{compound.level}}</b></td>
								</tr>
								<tr>
									<td colspan="2" style="border-right: 1px solid;border-left: 1px solid;">{{compound.explanation}}</td>
								</tr>
								<tr style="border-right: 1px solid;border-left: 1px solid;" ng-if="compound.withValues">
									<td style="background-color:#accee5;vertical-align:top"><center><div class="label label-info">Local Value</div></center><br>
										{{compound.localValue}}</td>
									<td style="background-color:#9fe790;vertical-align:top"><center></center><div class="label label-success">Referentiel Value</div></center><br>
										{{compound.referentielValue}}</td>
								</tr>
								<tr style="border-bottom: 1px solid;"><td colspan="2"></td></tr>
							</tbody>
							</table>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	
	
	<!--  ************************************************************  -->	
	<!--  Parameters Jobs		 										-->
	<!--  ************************************************************  -->		
	<!-- Keep it ng-show, else the file drop will not work ! -->	
	<div class="col-lg-12" ng-show="ctrl.navbaractiv == 'parameters'">
		<p>
		Select the Bonita application to use in the different function. It may be the local application (this server), or you can set a different path, to check a Bonita application downloaded on your disk.
		<table style="width:100%">
		<tr style="padding:10px"><td colspan="2" style="text-align:center;background-color: rgb(114, 191, 210)">Execution</td></tr>
		<tr style="padding:10px 5px 20px 10px;"><td>Before each operation</td><td>
			<input type="checkbox" ng-model="ctrl.props.param.doSetupPull" title="Do a setup pull before each operation"></input>Do a setup pull<br>
			</td>
		</tr>
		
		<tr style="padding:10px"><td colspan="2" style="text-align:center;background-color: rgb(114, 191, 210)">Application</td></tr>
		<tr style="padding:10px 5px 20px 10px;"><td>Local application</td><td>
			<input type="checkbox" ng-model="ctrl.props.param.useLocalFile" title="Use this Bonita application to compare with the referentiel"></input>Use this application<br>
			</td>
		</tr>
		<tr style="padding:10px 5px 20px 10px;"><td>Application directory:</td>
			<td>
			<input ng-model="ctrl.diff.props.comparaisonFile" style="width: 100%;" ng-disabled="ctrl.props.param.useLocalFile" title="Give a directory accessible by the server, where a bundle exists"></input> <br>
		 </td>
		 </tr>
		 
		</table>
	</div>
</div> <!--  class component -->
</div>
</div>



<!-- Third party dependencies -->

<script src="3rd-party/jquery.min.js"></script>

<script src="3rd-party/angular.min.js"></script>

<script src="3rd-party/angular-resource.min.js"></script>
<script src="3rd-party/angular-cookies.min.js"></script>

<script src="3rd-party/bootstrap/js/bootstrap.min.js"></script>
<script src="3rd-party/angular-bootstrap-tpls.min.js"></script>
<script src="3rd-party/angular-file-upload.js"></script>
<script src="3rd-party/ng-google-chart.js"></script>
<script src="3rd-party/angular-sanitize.min.js"></script>
<script src="3rd-party/ng-modal.min.js"></script>

<!--  Material -->
<script src="3rd-party/angular-animate.min.js"></script>
<script src="3rd-party/angular-aria.min.js"></script>
<script src="3rd-party/angular-messages.min.js"></script>
<script src="3rd-party/angular-material.min.js"></script>







<!-- Application dependencies -->
<!-- to be sure to reload every time the JS file, add this marker -->
<script src="pageResource?page=custompage_drillcar&location=drillmonitor.js&t=@_CURRENTTIMEMILIS_@"></script>


<script type="text/javascript" src="https://cdn.jsdelivr.net/alasql/0.3/alasql.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.10.3/xlsx.full.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.10.3/xlsx.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.10.3/xlsx.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.10.3/xlsx.core.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.10.3/cpexcel.js"></script>


</body>
</html>